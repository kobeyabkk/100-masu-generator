# 百マス計算ジェネレーター

A4サイズで印刷可能な百マス計算問題を自動生成するWebアプリケーションです。印刷後に半分に折って使用することで、問題と答えを見比べやすく、丸付けも容易に行えます。

## プロジェクト概要

バンコクのプログラミング教室「プログラミングのKOBEYA」代表・鈴木政路様向けに開発された、教育現場で使いやすい百マス計算教材作成ツールです。

## 主な機能

### ✅ 実装済み機能

1. **4種類の演算に対応**
   - たし算
   - ひき算
   - かけ算
   - わり算

2. **柔軟なマスサイズ設定** ⭐ 長方形対応
   - 行数と列数を個別に設定可能（3～15）
   - 正方形（10×10など）も長方形（5×10など）も自由に作成
   - マスの数に応じて自動的にサイズとフォントを調整
   - デフォルトは10×10（百マス）

3. **カスタマイズ可能な数値範囲**
   - 各演算タイプで使用する数値の範囲を自由に設定可能
   - デフォルト値が各演算に応じて自動設定

4. **数値固定オプション**
   - 特定の数値を固定して問題を作成可能
   - カンマ区切りで複数の数値を指定
   - 行・列それぞれ独立して固定可能

5. **A4印刷最適化**
   - A4用紙の上半分に問題、下半分に答えを配置
   - 印刷後に半分に折って使用可能
   - 問題と答えが同じ形式で表示されるため丸付けが容易

6. **わり算の特殊処理**
   - 整数解にならないマスには自動的に斜線を表示
   - 問題側・答え側の両方に斜線を表示

6-2. **割り算プリセット機能** ⭐ NEW (v2.9.0)
   - わり算選択時に専用の設定パネルが自動表示
   - **難易度プリセット**: 
     - 簡単（2桁÷1桁）
     - 普通（3桁÷1桁）
     - 難しい（3桁÷2桁）
     - カスタム（範囲指定）
   - **除数範囲の自動調整**（列数に応じて重複を回避）:
     - 列数8以下 → 除数2～9（8個、重複なし）
     - 列数9 → 除数1～9（9個、重複なし）
     - 列数10以上 → 除数1～10（10個、重複なし）
   - **完全重複排除**: 行も列も絶対に重複しない
   - **割り切れる数を保証**: すべての被除数は少なくとも1つの除数で割り切れる
   - **整数解60%以上を自動達成**: 内部で60%以上の整数解を目指して生成
   - プリセット設定は自動保存され、次回起動時も同じ設定で開始

7. **数値の重複防止機能**
   - 同じ数値が重複しないように自動調整
   - Fisher-Yatesシャッフルアルゴリズムを使用
   - より多様な問題パターンを生成

8. **入力値の検証機能**
   - マスの数と数値範囲の整合性を自動チェック
   - 範囲が不足している場合はエラーメッセージで警告
   - 例：5×5のマスに対して1～3の範囲（3個）は不可

9. **16言語対応** ⭐⭐ 最大拡張
   - アジア太平洋: 日本語、英語、簡体中国語、繁体中国語、韓国語、タイ語、インドネシア語、ベトナム語、ヒンディー語
   - 中東: **アラビア語**（RTL対応）
   - ヨーロッパ・ロシア: **ロシア語、オランダ語**、スペイン語、フランス語、ドイツ語、ポルトガル語
   - ワンクリックで言語切り替え
   - ブラウザの言語を自動検出
   - 世界人口の72%（約57億人）をカバー

10. **全角入力の自動変換**
   - 日本語入力（全角）の数字を自動的に半角に変換
   - 全角カンマ（，）、読点（、）を半角カンマ（,）に自動変換
   - 全角スペース、全角マイナスも半角に変換
   - 入力ミスを防ぎ、ユーザビリティを向上

11. **筆算形式対応**
   - 数値の配置を入れ替える機能
   - 筆算形式：上に足される数/引かれる数など、左に足す数/引く数など
   - チェックボックスで標準形式と筆算形式を切り替え可能
   - 選択した形式を自動保存（次回起動時も同じ設定）
   - 筆算のイメージで計算しやすく

12. **負の数対応**
   - 「負の数を含む」チェックボックスで負の数を使用可能
   - チェックON時は-999～999の範囲で数値を設定可能
   - 固定数値入力でも負の数に対応
   - 全ての演算（たし算、ひき算、かけ算、わり算）で正しく計算
   - より高度な計算練習が可能に

13. **ランダムに負の数にする機能**
   - 生成された数値を約50%の確率で負の数に変換
   - 「負の数を含む」がONの時のみ使用可能（括弧内に表示）
   - より多様な問題パターンを自動生成
   - 例：1～10の範囲で生成 → -5, 3, -8, 2, -1, 7... のように変換
   - 正の数と負の数が混在した実践的な計算練習

14. **ランダムに配置する機能**
   - 固定数値をシャッフルしてランダムに配置
   - 「特定の数値を固定する」がONの時のみ使用可能（括弧内に表示）
   - 同じ数値でも毎回異なる順序で出題
   - 例：1,2,3,4,5 → 3,1,5,2,4 のようにシャッフル
   - 暗記ではなく計算力を鍛える効果

15. **入力モード** ⭐ NEW
   - **印刷モード**と**入力モード**の2つのモードを切り替え可能
   - **タイマー機能**: スタート・一時停止・リセットで計算速度を計測
   - **デバイス対応**:
     - PC: キーボード入力（Tab、Enter、矢印キーで移動）
     - タブレット/スマホ横: 画面を左右分割（左：グリッド、右：テンキー）
     - スマホ縦: 横持ち推奨メッセージ表示
   - **全角→半角自動変換**: 日本語入力でもそのまま入力可能
   - **移動方向選択**: Enterキーで「右」または「下」に移動を選択可能
   - **採点機能**: 問題完了後に「採点する」ボタンで正解・不正解を判定
   - **成績記録**: 過去10回分の成績を自動保存（正解数、正答率、タイム）
   - **ベストタイム表示**: 履歴の中から最速タイムに金色バッジ表示
   - **成長グラフ可視化** ⭐ NEW (v2.11.0):
     - Chart.jsによる美しいグラフ表示
     - タイム推移グラフ（下がるほど上達）
     - 正答率推移グラフ（上がるほど上達）
     - 3回以上の記録で自動表示
     - 16言語完全対応
   - 印刷せずにオンラインで練習可能
   - 採点と記録で学習の振り返りが容易

## 使い方

### 基本的な使い方

1. **演算の種類を選択**
   - プルダウンメニューから「たし算」「ひき算」「かけ算」「わり算」を選択

2. **マスの数を選択**
   - 3×3から15×15まで選択可能
   - デフォルトは10×10（百マス）

3. **数値範囲を設定**
   - 各演算に応じた数値範囲を入力
   - 最小値と最大値を指定

4. **問題を生成**
   - 「問題を生成」ボタンをクリック
   - 画面に問題と答えが表示されます

5. **印刷**
   - 「印刷する」ボタンをクリック
   - A4用紙に印刷されます
   - 印刷後、用紙を半分に折って使用

### 各演算のデフォルト設定

#### たし算
- 足される数：21～30
- 足す数：1～10

#### ひき算
- 引かれる数：21～30
- 引く数：1～10

#### かけ算
- かけられる数：1～10
- かける数：1～10

#### わり算
- わられる数：21～30
- わる数：1～10

### 数値固定オプションの使い方

1. **「特定の数値を固定する」にチェック**を入れる

2. **固定したい数値を入力**
   - 例：`1,2,3,4,5,6,7,8,9,10`
   - カンマ区切りで入力
   - 行と列それぞれ独立して設定可能

3. **指定した数値が問題に使用されます**
   - 指定数が足りない場合は繰り返されます
   - 片方だけ固定することも可能（もう片方はランダム）

### 入力モードの使い方

1. **問題を生成後、「入力モード」タブをクリック**
   - 問題が入力可能なグリッドとして表示されます

2. **答えを入力**
   - **PC**: キーボードで数字を入力、Tab/Enter/矢印キーで移動
   - **タブレット/スマホ**: 画面右側のテンキーで入力
   - 全角数字も自動で半角に変換されます
   - マイナスの符号も入力可能

3. **タイマーを使用**
   - 「スタート」ボタンでタイマー開始
   - 「一時停止」で一旦停止、「リセット」で時間をリセット
   - タイマーは10ミリ秒単位で計測

4. **移動方向を選択**
   - Enterキーを押した時の移動方向を「右へ」または「下へ」から選択可能
   - 設定は自動保存されます

5. **採点する**
   - 全ての答えを入力後、「採点する」ボタンをクリック
   - 正解は緑色、不正解は赤色で表示されます
   - 正解数・不正解数・正答率・タイムが表示されます

6. **成績記録を確認**
   - 採点後、過去10回分の成績が自動保存されます
   - ベストタイム（最速記録）には金色の「BEST」バッジが表示されます
   - 履歴はブラウザのlocalStorageに保存されます

## ファイル構成

```
百マス計算ジェネレーター/
├── index.html          # メインHTMLファイル
├── css/
│   ├── style.css      # スタイルシート（画面表示・印刷用レイアウト）
│   └── input-mode.css # 入力モード専用スタイル ⭐ NEW
├── js/
│   ├── main.js        # JavaScript（問題生成・計算ロジック）
│   ├── input-mode.js  # 入力モード専用JavaScript ⭐ NEW
│   └── translations.js # 多言語翻訳データ（16言語対応）
├── HOW_TO_USE_JP.md   # 日本語ユーザーガイド
├── HOW_TO_USE_EN.md   # 英語ユーザーガイド
├── HOW_TO_USE_CN.md   # 中国語ユーザーガイド
├── HOW_TO_USE_ID.md   # インドネシア語ユーザーガイド
├── HOW_TO_USE_HI.md   # ヒンディー語ユーザーガイド
├── HOW_TO_USE_VI.md   # ベトナム語ユーザーガイド
├── HOW_TO_USE_AR.md   # アラビア語ユーザーガイド
├── HOW_TO_USE_RU.md   # ロシア語ユーザーガイド
├── HOW_TO_USE_NL.md   # オランダ語ユーザーガイド
├── LICENSE.txt        # ライセンス（9言語対応）
├── VERSION.txt        # バージョン履歴（9言語対応）
└── README.md          # このファイル
```

## 技術仕様

### 使用技術
- HTML5
- CSS3（印刷用メディアクエリを使用）
- JavaScript（Vanilla JS）
- **Chart.js 4.4.0**（成長グラフ可視化） ⭐ NEW (v2.11.0)

### 印刷仕様
- A4サイズ対応
- 上半分：問題（答えなし）
- 下半分：答え（答え入り）
- マージン：10mm

### マスサイズの自動調整
- 3×3～7×7：マスを大きく表示（50px～35px）
- 8×8～10×10：標準サイズ（33px～30px）
- 11×11以上：マスを小さく表示（27px～19px）
- 全13種類（3×3、4×4、5×5、6×6、7×7、8×8、9×9、10×10、11×11、12×12、13×13、14×14、15×15）
- 印刷時も自動調整されA4サイズに最適化

## 教育現場での活用例

### 基礎練習
- 10×10のたし算・ひき算で基礎計算力を養成
- かけ算九九の定着確認

### レベル別学習
- 小さいマス（5×5）で初心者向け
- 大きいマス（15×15）で上級者向け

### 特定の数の練習
- 数値固定機能で特定の段の練習
- 例：かけ算の7の段を集中練習

### タイム計測
- 同じ問題を繰り返し練習して時間短縮を目指す
- 答えが別紙になっているため自己採点が容易

### オンライン練習（入力モード）⭐ NEW
- PCやタブレットで印刷せずに練習可能
- タイマーで計算速度を自動計測
- 自動採点機能で即座にフィードバック
- 成績記録で学習の進捗を可視化
- ベストタイム表示でモチベーション向上
- 紙の節約と環境に優しい学習方法
- 宿題やオンライン授業での活用に最適

### 負の数を使った高度な練習
- 「負の数を含む」チェックボックスで負の数を使用
- 例：-10～10の範囲でたし算・ひき算
- 中学生向けの負の数の計算練習に最適
- かけ算・わり算でも負の数を使った練習が可能

### ランダム負の数機能の活用
- 「ランダムに負の数にする」で多様な問題を自動生成
- 正の数と負の数が混在する実践的な問題
- 例：1～10の範囲 → 3, -7, 5, -2, 8, -9... のように変換
- 毎回異なるパターンで飽きない練習が可能
- 符号の判断力を自然に養成

### ランダム配置機能の活用
- 「ランダムに配置する」で固定数値をシャッフル
- 例：九九の練習で 1,2,3,4,5,6,7,8,9 を固定 → 毎回異なる順序で出題
- 暗記に頼らない本当の計算力を養成
- 同じ数値セットでも新鮮な問題として練習可能
- 特定の段の練習を飽きずに継続できる

## グローバル市場展開

### 対応言語と市場カバレッジ

**アジア太平洋地域（9言語）**
- 🇯🇵 日本語（1.25億人）
- 🇺🇸 英語（15億人以上 - 第1・第2言語含む）
- 🇨🇳 簡体中国語（11億人以上）
- 🇹🇼 繁体中国語（2,500万人）
- 🇰🇷 韓国語（7,700万人）
- 🇹🇭 タイ語（6,900万人）
- 🇮🇩 インドネシア語（2億7,500万人）
- 🇻🇳 ベトナム語（9,800万人）
- 🇮🇳 ヒンディー語（5億3,000万人）

**中東・湾岸地域（1言語）**
- 🇦🇪 **アラビア語（4億2,000万人）** ⭐ NEW
  - 対象国：UAE、サウジアラビア、カタール、クウェート、バーレーン、オマーン等
  - 特徴：購買力世界最高レベル、教育投資が巨大
  - 実装：RTL（右から左）レイアウト完全対応

**ヨーロッパ・ロシア・南米地域（6言語）**
- 🇷🇺 **ロシア語（2億6,000万人）** ⭐ NEW
  - 対象国：ロシア、カザフスタン、ベラルーシ等
  - 特徴：数学教育の伝統が非常に強い
- 🇳🇱 **オランダ語（2,400万人）** ⭐ NEW
  - 対象国：オランダ、ベルギー
  - 特徴：世界最高水準の購買力
- 🇪🇸 スペイン語（5億9,000万人）
- 🇫🇷 フランス語（3億2,100万人）
- 🇩🇪 ドイツ語（1億3,400万人）
- 🇵🇹 ポルトガル語（2億6,400万人）

**合計カバー人口**: 約57億人（世界人口の72%）

### Gumroad販売用パッケージ

このアプリケーションはGumroadでのデジタル製品販売に最適化されています：

- **ZIP形式で配布**: ダウンロード後すぐに使用可能
- **完全オフライン動作**: インターネット接続不要
- **多言語ユーザーガイド**: 購入者の言語で使い方を理解
- **商用利用可能**: 教室・塾・学校での使用OK
- **生涯アップデート無料**: 購入者は無料で最新版を入手可能

### 販売用ファイル構成

**ZIPに含まれるファイル（購入者向け）:**
- index.html, css/style.css, js/main.js, js/translations.js
- HOW_TO_USE_JP.md, HOW_TO_USE_EN.md, HOW_TO_USE_CN.md
- HOW_TO_USE_ID.md, HOW_TO_USE_HI.md, HOW_TO_USE_VI.md
- LICENSE.txt, VERSION.txt

**除外されるファイル（開発者専用）:**
- README.md（開発者向けドキュメント）
- GUMROAD_DESCRIPTION.md（商品ページテンプレート）
- PACKAGING_GUIDE.md（パッケージング手順書）

## 今後の拡張案

以下の機能は現在未実装ですが、今後追加が検討できます：

1. **タイマー機能**
   - 画面上でタイムを計測
   - ベストタイムの記録

2. **問題の保存・読み込み**
   - 作成した問題を保存
   - 過去の問題を再生成

3. **PDF出力機能**
   - ブラウザの印刷ではなく、PDFとして直接出力

4. **複数問題の一括生成**
   - 一度に複数の問題用紙を作成
   - 異なる設定で複数パターンを生成

5. **難易度プリセット**
   - 学年別のプリセット設定
   - ワンクリックで適切な難易度を設定

6. **成績記録機能**
   - 生徒ごとの成績を記録
   - 進捗状況の可視化

7. **さらなる言語拡張**
   - アラビア語、ペルシャ語（中東市場）
   - イタリア語、ロシア語（ヨーロッパ拡大）

## ライセンス

このプロジェクトは教育目的で作成されました。
プログラミングのKOBEYA（バンコク）での使用を想定しています。

## 開発者

鈴木政路（すずき まさみち）  
プログラミングのKOBEYA 代表  
バンコク・フジスーパー2号店2階

---

**最終更新日：** 2025年11月16日  
**現在のバージョン：** v2.9.5.3 （左列固定の修正 - CSS特異性対応）  
**世界カバー率：** 世界人口の72%（約57億人）🌍

## 🌐 多言語対応

このアプリケーションは以下の10言語に対応しています：

- 🇯🇵 **日本語** (Japanese)
- 🇺🇸 **英語** (English) 
- 🇨🇳 **簡体字中国語** (Simplified Chinese)
- 🇹🇼 **繁体字中国語** (Traditional Chinese)
- 🇰🇷 **韓国語** (Korean)
- 🇹🇭 **タイ語** (Thai)
- 🇪🇸 **スペイン語** (Spanish)
- 🇫🇷 **フランス語** (French)
- 🇩🇪 **ドイツ語** (German)
- 🇵🇹 **ポルトガル語** (Portuguese)

### 言語の切り替え方法

1. ページ上部の言語選択ドロップダウンメニューから希望の言語を選択
2. 選択した言語は自動的に保存され、次回アクセス時も適用されます
3. ブラウザの言語設定を自動検出して、初回アクセス時に最適な言語を表示

### 新機能追加時の多言語対応

今後、新しい機能を追加する際も自動的に多言語対応されます：

1. `js/translations.js`ファイルに新しいテキストを追加するだけ
2. すべての言語に対して一度に追加可能
3. コードの変更は最小限で済みます

**開発者向けメモ**：新しい文字列を追加する場合は、`translations`オブジェクトの各言語に対応するキーと値を追加してください。

## 更新履歴

### v2.10.9 (2025-11-17) 🐛 重要なバグ修正 - gridSize問題とiOS Safari最適化
- 🔴 **#1 gridSizeプロパティが存在しない問題を修正（最優先）**
  - **問題**: `currentData`に`gridSize`が存在しないのに参照
  - **影響**: 採点時にエラー、成績履歴が正しく保存されない
  - **修正**: `rowSize`と`colSize`を使用
  - **後方互換性**: 旧データの`gridSize`も表示可能
- ⚡ **#2 iOS Safari画面サイズ取得のタイミング改善**
  - `orientationchange`の待機時間を100ms→200msに延長
  - `resize`イベントにデバウンス追加（150ms）
  - 画面回転時の表示切り替えがより確実に
- 📱 **#3 CSSの100dvhと100vhを統一**
  - すべて`100dvh`に統一（iOS Safari対応）
  - アドレスバーの高さを正確に考慮
- 🛡️ **#6 detectDevice()のnullチェック追加**
  - `numpad`要素の存在確認
  - DOM読み込み前のエラーを防止
- 🛡️ **#7 createInputGrid()のnullチェック追加**
  - `swapOperandsCheckbox`の存在確認
  - 入力モードでのエラーを防止
- 📦 **Service Worker v2.10.9**

**この修正により、採点機能と成績履歴が正常に動作します！**

### v2.10.8 (2025-11-17) 🛡️ 安定性向上 - すべての要素にnullチェック追加
- 🔧 **updateInputModeLanguage関数の完全な安全性確保**
  - すべてのgetElementById()にnullチェック追加
  - 要素が存在しない場合でもエラーが発生しない
  - 堅牢なエラーハンドリング
- ✅ **以下の要素にnullチェック追加**:
  - startTimerLabel, pauseTimerLabel, resetTimerLabel
  - gradeButtonLabel
  - resultsTitle, correctLabel, incorrectLabel, accuracyLabel, timeLabel
  - historyTitle
  - moveDirectionLabel, moveRightLabel, moveDownLabel
- 📦 **Service Worker v2.10.8**

**この修正により、要素の有無に関わらずエラーが発生しません！**

### v2.10.7 (2025-11-17) 🔧 Hotfix - null要素アクセスエラーの修正
- 🔴 **updateInputModeLanguageでのnull要素アクセスを修正**
  - **原因**: `rotateDeviceMessage`要素が存在しないのにアクセス
  - **影響**: JavaScript全体が停止、すべての機能が動作不能
  - **修正**: 存在しない要素への参照を削除
- ✅ **横持ちメッセージはmain.jsで更新**
  - `rotateDeviceTitle`, `rotateDeviceVerticalOK`, `rotateDeviceTraining`
  - input-mode.jsからは削除（重複処理の回避）
- 📦 **Service Worker v2.10.7**

**この修正により、すべての機能が正常に動作します！**

### v2.10.6 (2025-11-17) 🚨 緊急修正 - printArea重複宣言エラーの解消
- 🔴 **すべての機能が停止する重大なエラーを修正**
  - **原因**: input-mode.jsでprintAreaを重複宣言
  - **影響**: JavaScriptエラーで問題生成も入力モードも動作停止
  - **修正**: input-mode.jsからprintArea宣言を削除
- ✅ **main.jsでのprintArea宣言を維持**
  - グローバル変数として一箇所でのみ宣言
  - input-mode.jsからはmain.jsの変数を参照
- 🔧 **不要なnullチェックreturnを削除**
  - 早期returnによるイベントリスナー未設定を修正
- 📦 **Service Worker v2.10.6**

**この修正により、すべての機能が正常に動作します！**

### v2.10.5 (2025-11-17) 🐛 重大なバグ修正 - 入力モード切り替えの完全修正
- 🔴 **入力モード切り替えが動作しない問題を完全修正**
  - **根本原因**: `.active`クラスと`.mode-hidden`クラスの管理が不整合
  - **問題**: printAreaは`.active`で表示、`.mode-hidden`で強制非表示
  - **修正**: switchMode()で両方のクラスを適切に管理
- ✅ **printAreaの表示制御を完全に修正**
  - 印刷モード: `.mode-hidden`削除 + `.active`追加
  - 入力モード: `.mode-hidden`追加（`.active`は保持）
- 🔧 **printAreaのグローバル変数宣言を明確化**
  - input-mode.jsでprintAreaを宣言
  - initInputMode()でprintAreaを取得
- ⚠️ **重要な要素のnullチェック追加**
  - printAreaとinputAreaの存在を確認
  - エラーログで問題を早期発見
- 📦 **Service Worker v2.10.5**

**この修正により、入力モードタブが確実に動作するようになります！**

### v2.10.4 (2025-11-17) 🔧 安定性向上とイベント処理の改善
- 🔧 **アコーディオンのnullチェック追加**
  - 要素が存在しない場合のエラーを防止
  - より堅牢な初期化処理
- 🖱️ **モードタブのイベントリスナー改善**
  - printModeTab/inputModeTabのnullチェック追加
  - より安全なイベントバインディング
- 🔘 **showNoDataMessageの改善**
  - onclick属性からイベントリスナーに変更
  - より確実なイベント処理
- ⚠️ **currentModeのスコープチェック追加**
  - quickStart関数での安全な参照
  - undefined参照エラーを防止
- ✅ **クイックスタートの数値範囲確認**
  - 足し算: 1～10 + 1～10（既に正しく設定済み）
  - 引き算: 11～20 - 1～10（既に正しく設定済み）
- 📦 **Service Worker v2.10.4**

### v2.10.3 (2025-11-17) 🐛 バグ修正とiOS Safari最適化
- 🔧 **2回目以降の自動問題生成を修正**
  - 前回の設定で自動生成する機能が正常に動作
  - `updateLabelsAndDefaults()` を呼び出してラベルを正しく更新
- 🖱️ **入力モードタブのクリック問題を修正**
  - onclick属性からイベントリスナーに変更
  - タブ切り替えが確実に動作するように改善
- 🧹 **デバッグ用console.logを完全削除**
  - 本番環境向けにすべてのデバッグログを削除
  - プロフェッショナルなコード品質に向上
- 📱 **iOS Safari完全対応の微調整**
  - `100dvh` を使用してより正確な高さ計算
  - border-collapseをseparateに統一（sticky対応）
  - z-indexを最適化（5/4階層構造）
  - 背景色を明示的に指定
- 📦 **Service Worker v2.10.3**

### v2.10.2 (2025-11-17) 📱 縦持ち対応の改善
- ✨ **スマホ縦持ち時のメッセージを改善**
  - 「横向き完全NG」から「縦でも一部機能は使える」に方針転換
  - メッセージを3秒後に自動的にフェードアウト
  - 「×」閉じるボタンを追加（手動で閉じることも可能）
- 📝 **メッセージ内容の改善**
  - タイトル: "入力トレーニングには横向き表示を推奨"
  - ✅ 縦向きでも印刷用の問題生成は可能です
  - 💡 本格的な入力トレーニングは横向きでどうぞ
- 🌍 **全16言語対応**
  - 新しいメッセージテキストも16言語に翻訳
  - `rotateDevice`, `rotateDeviceVerticalOK`, `rotateDeviceTraining` の3つのキーを追加
- 🎯 **UX改善の効果**
  - 心理的ハードルの低減
  - 印刷プレビューやサンプル確認が縦持ちでも可能
  - 邪魔にならないメッセージ表示
- 📦 **Service Worker v2.10.2**

### v2.10.1 (2025-11-17) 🎛️ UI再構築 - 基本設定とアコーディオン
- ✨ **基本設定を横並びレイアウトに変更**
  - 演算の種類、行数、列数を3列グリッドで表示
  - より見やすく、操作しやすいUI
  - タブレット・スマホでは自動的に縦並びに（レスポンシブ対応）
- 🎯 **詳細設定をアコーディオンに格納**
  - 基本設定以外を「詳細設定」アコーディオンに折りたたみ
  - 初心者にとってシンプルな画面に
  - 必要に応じて展開可能
  - 開閉状態をlocalStorageに保存
- 🚀 **自動問題生成の強化**
  - 初回訪問時だけでなく、**2回目以降も自動生成**
  - アプリを開いた瞬間に前回の設定で問題が表示される
  - 「生成ボタンを押す」手間を削減
- 🎨 **アコーディオンのデザイン**
  - ▼アイコンが回転するアニメーション
  - スムーズなmax-height遷移（0.3s ease）
  - クリックしやすい大きなボタン
- 🌍 **全16言語対応**
  - `advancedSettings` キーを16言語に翻訳
- 📦 **Service Worker v2.10.1**

### v2.10.0 (2025-11-16) ⚡ クイックスタートボタン追加
- ✨ **タイトル直下に3つのクイックスタートボタンを追加**
  - **10×10 かけ算**: 1～10の九九練習に最適
  - **10×10 たし算**: 1～10の基礎計算練習
  - **10×10 ひき算**: 11～20 − 1～10の引き算練習
- 🎯 **ワンクリックで即座に問題生成**
  - 設定不要で使いたい問題がすぐ使える
  - 教育現場でよく使う設定を厳選
  - 初心者にも分かりやすいUI
- 🎨 **モダンなグラデーションデザイン**
  - 各ボタンに異なる色のグラデーション
  - ホバー時のアニメーション効果
  - レスポンシブ対応（スマホ・タブレット）
- 🌍 **全16言語対応**
  - クイックスタートボタンも多言語翻訳
- 📦 **Service Worker v2.10.0**

### v2.9.8 (2025-11-16) 🎉 初回ユーザー体験の改善
- ✨ **初回訪問時に自動的に問題を生成**
  - 新規ユーザーが初めてアプリを開いた時
  - 自動的に **10×10のかけ算** 問題が生成された状態で表示
  - 「何をすればいいか分からない」問題を解決
  - すぐに使い始められるUX改善
- 🎯 **デフォルト設定の最適化**
  - 初回訪問: 10×10かけ算（九九の練習に最適）
  - 2回目以降: 前回の設定を記憶
- 📦 **Service Worker v2.9.8**
  - キャッシュバージョン更新

### v2.9.7 (2025-11-16) 🧹 デバッグ表示の削除
- 🗑️ **画面上のデバッグメッセージ表示を削除**
  - iPhone Safari用に実装していた黒背景・緑文字のデバッグオーバーレイを削除
  - `showDebugMessage()` 関数を完全削除
  - すべての `showDebugMessage()` 呼び出しを削除
- 🔍 **バグチェック完了**
  - JavaScript構文チェック ✅
  - HTML-JavaScript連携チェック ✅
  - CSS競合チェック ✅
  - 割り算処理チェック ✅
  - 入力モード処理チェック ✅
  - 多言語対応チェック ✅
  - **結果**: バグなし、すべて正常動作
- 📦 **Service Worker v2.9.7**
  - キャッシュバージョン更新

### v2.9.6 (2025-11-16) 🌐 全16言語の翻訳完全対応
- 🌍 **多言語対応を完全に補完**
  - 全16言語で不足していた翻訳キーを追加
  - 追加した翻訳キー：
    - `rowSize` - 行数（縦）
    - `colSize` - 列数（横）
    - `stickyHeaderOn` - 🔓 全体表示
    - `stickyHeaderOff` - 📌 ヘッダー固定
    - `noDataMessage` - 問題未生成時のメッセージ
    - `divisionIntegerRatio` - 整数解の割合（一部言語）
    - `divisionIntegerRatioHint` - 整数解割合のヒント（一部言語）
- ✅ **対応言語（16言語）**
  - 🇯🇵 日本語 (ja)
  - 🇺🇸 英語 (en)
  - 🇨🇳 簡体字中国語 (zh_CN)
  - 🇹🇼 繁体字中国語 (zh_TW)
  - 🇰🇷 韓国語 (ko)
  - 🇹🇭 タイ語 (th)
  - 🇪🇸 スペイン語 (es)
  - 🇫🇷 フランス語 (fr)
  - 🇩🇪 ドイツ語 (de)
  - 🇵🇹 ポルトガル語 (pt)
  - 🇮🇩 インドネシア語 (id)
  - 🇮🇳 ヒンディー語 (hi)
  - 🇻🇳 ベトナム語 (vi)
  - 🇸🇦 アラビア語 (ar)
  - 🇷🇺 ロシア語 (ru)
  - 🇳🇱 オランダ語 (nl)
- 📦 **Service Worker v2.9.6**
  - キャッシュバージョン更新で翻訳変更を反映

### v2.9.5.3 (2025-11-16) 🔧 左列固定の修正（CSS特異性対応）
- 🐛 **左列が本当に固定されるように修正**
  - **根本原因**：CSSの特異性（specificity）の問題
  - `.input-table td.input-cell { position: static; }` が、sticky設定を上書きしていた
  - **解決策**：
    1. `td.input-cell` から `position: static` を削除
    2. 左列固定のルールを後に配置（CSSカスケードで上書き）
    3. より具体的なセレクター使用：`.input-table.sticky-headers td.header:first-child`
- ✅ **動作確認**
  - 1行目（上部）：横スクロールしても固定 ✅
  - 1列目（左側）：縦スクロールしても固定 ✅（今回確実に修正）
  - 左上コーナー：両方向のスクロールで常に表示 ✅

### v2.9.5.2 (2025-11-16) 🔧 左列固定の修正
- 🐛 **1列目（左側の行ヘッダー）が固定されない問題を修正**
  - CSSセレクターを改善：すべての行の最初のセルに sticky を適用
  - 元のセレクター：`.input-table.sticky-headers td.header:first-child`
  - 新しいセレクター：`.input-table.sticky-headers td:first-child`
  - これにより、2行目以降の行ヘッダーも正しく固定される
- ✅ **動作確認**
  - 1行目（上部）：横スクロールしても固定 ✅
  - 1列目（左側）：縦スクロールしても固定 ✅
  - 左上コーナー：両方向のスクロールで常に表示 ✅

### v2.9.5.1 (2025-11-16) 🔧 構文エラー修正（緊急パッチ）
- 🐛 **入力モードのボタンが反応しない問題を修正**
  - `js/input-mode.js` 257行目の閉じ括弧不足を修正
  - デバッグログ追加時のタイプミスが原因
  - 「Unexpected end of input」エラーを解消
  - 「initInputMode is not defined」エラーを解消
- ✅ **動作確認**
  - すべてのボタンが正常に動作
  - タイマー機能が正常動作
  - 入力モードが正常に使用可能

### v2.9.5 (2025-11-16) 🐛 iOS Safari sticky表示バグ修正
- 🐛 **iPhoneで3行目以降が表示されない問題を修正**
  - iOS Safariにおける`border-collapse: collapse`と`position: sticky`の相性問題を解決
  - **原因分析**（Claude、Gemini、ChatGPT、Gensparkの協力により特定）:
    1. iOS Safariの既知バグ: `border-collapse: collapse`と`position: sticky`の組み合わせでテーブルの描画が途中で切れる
    2. `display: inline-block`による高さ計算問題
    3. スクロールコンテキストの競合
  - **修正内容**:
    - `border-collapse: separate; border-spacing: 0;` に変更（iOS Safari対策）
    - `#inputGrid`を`display: block`に変更（高さ計算の安定化）
    - `-webkit-overflow-scrolling: touch`を追加（スムーススクロール）
    - `-webkit-sticky`プレフィックスを追加（Safari対応）
    - z-indexを適切に設定（corner: 10、headers: 5）
    - 背景色を明示的に再指定（透過防止）
    - 二重線を防ぐボーダー調整
- 🔍 **デバッグログを追加**
  - テーブル作成時に行数・高さ・スクロール情報をコンソールに出力
  - 問題の早期発見と解決を支援
- ✨ **改善効果**
  - iPhoneでも全ての行が正しく表示される
  - スクロールがスムーズに動作
  - ヘッダー固定機能が安定動作
  - すべてのグリッドサイズで正常動作

### v2.9.4 (2025-11-16) ✨ ヘッダー固定モード - 入力開始で自動ON
- ✨ **入力開始時に自動的にヘッダー固定モードが開始**
  - 最初はグリッド全体が表示される（全体表示モード）
  - セルをクリックして入力を始めると **自動的にヘッダー固定モードに切り替わる**
  - 入力中は上部の数字（列ヘッダー）と左側の数字（行ヘッダー）が常に表示
  - スクロールを気にせず計算に集中できる
- 🔘 **ヘッダー固定/全体表示の切り替えボタン追加**
  - 「📌 ヘッダー固定」 / 「🔓 全体表示」のトグルボタン
  - タイマーコントロールの横に配置
  - いつでも固定モードのON/OFFを切り替え可能
  - 全体を俯瞰したい時は「全体表示」に切り替え
- 🎯 **入力に集中できるUX**
  - 問題の数字を常に確認しながら入力
  - 大きなグリッド（12×12以上）でも使いやすい
  - 自分で画面を動かす必要なし

### v2.9.3 (2025-11-16) 📱 スマホ入力モードにヘッダー固定機能追加
- ✨ **スクロール時にヘッダー（列・行の数字）を固定表示**
  - Excelの行固定機能のように、スクロールしても上部の数字（列ヘッダー）と左側の数字（行ヘッダー）が常に表示
  - `position: sticky`を使用して実装
  - 大きなグリッド（12×12以上）でもスクロールしながら問題の数字を確認可能
  - 左上のセル（演算記号）も固定表示
  - スマホ横向き・タブレットで特に有効
- 🐛 **4行目以降が空白になる問題を修正**
  - CSSセレクターの誤りを修正（すべての`.header`に`position: sticky`を適用していた）
  - 列ヘッダーと行ヘッダーに個別に`position: sticky`を適用するように修正
  - `max-height`を削除してスクロールの問題を解決（スマホ横向きで3行目までしか表示されなかった問題）

### v2.9.2 (2025-11-16) 🐛 iPadセル移動のバグ修正 + レスポンス改善
- 🐛 **iPadでセル移動後に前のセルに戻る問題を修正**
  - 移動ボタン（緑チェック）で次のセルに移動後、数字を入力すると前のセルに戻る不具合を修正
  - 原因: タッチデバイスで`moveToCell()`実行時に`currentActiveCell`が更新されていなかった
  - 解決: タッチデバイスの場合、`moveToCell()`で明示的に`setActiveCell()`を呼び出すように修正
  - これで移動後すぐに正しいセルに入力できるようになりました
- ⚡ **テンキーのレスポンスを改善**
  - セルクリックの`preventDefault()`を削除（不要な処理を削減）
  - テンキーボタンのクリックイベントに`preventDefault()`と`stopPropagation()`を追加
  - `passive: false`オプションで即座に処理
  - 連続入力時の遅延を最小化

### v2.9.1 (2025-11-16) 🔧 入力モードのUI改善 + 印刷サイズ修正
- 🎯 **グリッドサイズの動作改善（入力モード）**
  - 10×10以上のグリッドでマス目のサイズを40px×40pxで統一
  - 従来：11×11以上は個々のマス目が縮小（38px、36px...）
  - 改善後：すべて40px×40pxで統一、グリッド全体が大きくなる
  - より使いやすく、見やすい入力グリッドに改善
- 📱 **iPadのネイティブキーボード表示防止**
  - カスタムテンキー使用中にiPadのキーボードが出現する問題を修正
  - 入力フィールドに`readOnly`と`inputmode="none"`を追加
  - タッチデバイスでの入力はテンキーのみに制限
  - PCではキーボード入力を維持（自動検出）
  - より快適な入力体験を実現
- ⚡ **iPadテンキーの連続入力速度を改善**
  - 連続入力時の遅延を解消（例：「26」と入力する際、2の後すぐに6を入力可能）
  - focus/blurイベントの処理を最適化
  - タッチデバイスではセルクリックで直接アクティブ化
  - 不要なblur()処理を削除し、レスポンスを向上
- 🔄 **iPhoneの画面回転検知を改善**
  - 画面を縦→横に回転した時に正しく検知されない問題を修正
  - `orientationchange`イベントを追加（iOS対応）
  - 横向き判定を`幅 > 高さ`で行うように改善
  - 横持ち推奨メッセージが正しく消えるように修正
  - デバッグ用のコンソールログを追加
- 🖨️ **印刷時の11×11～15×15のマスサイズを拡大**
  - 問題セクション: 11×11（34px→35px）、12×12（32px→33px）、13×13（30px→31px）、14×14（28px→29px）、15×15（27px→28px）
  - 答えセクション: 11×11（24px→25px）、12×12（23px→24px）、13×13（22px→23px）、14×14（20px→22px）、**15×15（19px→21px）**
  - 特に15×15の答えセクションが小さすぎた問題を修正
  - より書き込みやすく、読みやすい印刷物に改善

### v2.8.1 (2025-11-14) 🔗 数値範囲と行列サイズの自動連動
- ✨ **数値範囲と行数・列数の自動連動機能**
  - 数値範囲を変更すると、行数・列数が自動的に調整される
  - 行数・列数を変更すると、数値範囲が自動的に拡大される
  - **例1**: 行数を10に変更 → 数値範囲が6個しかない → 自動的に10個になるよう範囲を拡大
  - **例2**: 数値範囲を1～5（5個）に変更 → 行数が10 → 自動的に行数を5以下に縮小
  - 固定数値モード使用時は自動調整を無効化（手動設定を優先）
- 🎯 **ユーザビリティの大幅向上**
  - **問題発生の防止**: 「行数10×列数6で範囲1～6と1～10」のような設定ミスを自動解決
  - **直感的な設定**: 数値範囲と行列サイズの関係を意識せずに設定可能
  - **エラー削減**: バリデーションエラーの発生を最小限に抑制
  - 初心者でも迷わず使える親切設計
- 📝 **エラーメッセージの改善**
  - 長方形グリッドに対応したエラーメッセージ
  - 従来: 「マスの数: {size}×{size}」→ 新: 「行数: {rowSize}、列数: {colSize}」
  - 何が不足しているか一目で分かる明確な表示
  - 全16言語で統一された分かりやすいメッセージ
- 🔧 **技術的な改善**
  - `autoAdjustGridSize()`: 数値範囲に応じて行数・列数を自動調整
  - `autoAdjustNumberRanges()`: 行数・列数に応じて数値範囲を自動拡大
  - イベントリスナーによるリアルタイム連動
  - 負の数モードにも完全対応（上下両方向に範囲を拡大）

### v2.9.0 (2025-11-15) ➗ 割り算プリセット機能（整数解割合目安）
- ✨ **割り算プリセット機能を追加**
  - わり算選択時に専用のプリセットUIが自動表示
  - 3つの難易度プリセット + カスタムモード
    - **簡単**: 2桁÷1桁
    - **普通**: 3桁÷1桁
    - **難しい**: 3桁÷2桁
    - **カスタム**: 従来通りの自由な範囲設定
  - ワンクリックで適切な難易度設定が完了
- 🔢 **完全重複排除アルゴリズム**
  - **行（被除数）も列（除数）も絶対に重複しない**
  - Fisher-Yatesシャッフルアルゴリズムで重複を完全防止
  - 列数8以下 → 除数2～9から重複なしで選択
  - 列数9 → 除数1～9から重複なしで選択
  - 列数10以上 → 除数1～10から重複なしで選択
  - 行数に関係なく被除数も重複しない
  - 例: 10×6グリッド → 除数は2,3,4,5,6,7（すべて異なる）
- ✅ **割り切れない数の完全排除**
  - すべての被除数は必ず少なくとも1つの除数で割り切れる
  - 「どの除数でも割り切れない数」は絶対に出現しない
  - 例: 723のような問題のある数は生成されない
- 🎯 **整数解60%以上を自動達成**
  - UI設定なし（内部で自動的に60%以上を目指す）
  - 各被除数が約60%の除数で割り切れるように生成
  - 少なくとも1つは必ず割り切れることを保証
  - シンプルなUIで使いやすさ向上
- 💾 **設定の自動保存**
  - 選択したプリセット（easy/normal/hard/custom）を記憶
  - 次回起動時に前回の設定が復元される
- 🌐 **多言語対応（日英中韓）**
  - 日本語、英語、簡体中国語、繁体中国語、韓国語の翻訳データを追加
  - 残り12言語は今後追加予定
- 🎨 **専用UIデザイン**
  - 割り算選択時のみ表示される折りたたみ式パネル
  - ラジオボタンで直感的なプリセット選択
  - ドロップダウンで整数解割合を選択
  - 選択中のプリセットは緑色でハイライト表示
- 🔧 **技術的実装**
  - `generateRandomNumbers()`: Fisher-Yatesシャッフルで重複なし数値生成
  - `generateDivisionNumbersWithRatio()`: 重複排除＋割り切れる数保証アルゴリズム
    - 除数: `generateRandomNumbers()`で重複完全排除
    - 被除数: 必ず少なくとも1つの除数の倍数として生成
    - 重複チェック: 100回まで試行して別の数を探す
  - `applyDivisionPreset()`: 列数に応じた除数範囲の動的調整
  - `toggleDivisionPresetPanel()`: わり算選択時にUIを自動表示/非表示

### v2.8.0 (2025-11-13) 📐 長方形グリッド対応
- ✨ **行数と列数を個別に設定可能に**
  - 従来: 正方形のみ（3×3、10×10など）
  - 新機能: 長方形も可能（5×10、8×12など）
  - 行数（縦）と列数（横）を3～15の範囲で自由に組み合わせ
  - より柔軟な問題作成が可能に
- 🔧 **内部構造の最適化**
  - gridSizeをrowSizeとcolSizeに分割
  - createTable()、createInputGrid()など全関数を長方形対応に更新
  - 既存機能（印刷モード、入力モード）はすべて正常動作
- 🌐 **16言語すべてに対応**
  - 新しいラベル（行数、列数）を全言語に翻訳
- 💾 **設定の自動保存・復元機能**
  - 前回使用した設定をlocalStorageに自動保存
  - 次回起動時に前回の設定を自動復元
  - 保存される項目:
    - 演算の種類（たし算/ひき算/かけ算/わり算）
    - 行数・列数
    - 数値範囲（最小値・最大値）
    - 固定数値の使用状態と内容
    - チェックボックスの状態（筆算形式、負の数、ランダム配置など）
  - 毎回同じ設定から始められるので便利
- 🐛 **バグ修正**
  - 入力モードでセル移動時に前の値が引き継がれる問題を修正
  - 移動時に自動的に値を全選択（新しい入力で上書き可能）
  - ブラウザのオートコンプリートを無効化
  - 入力モードで長方形グリッドが正しく表示されない問題を修正

### v2.7.0 (2025-11-13) 💻 入力モード実装
- ✨ **入力モード機能を追加**
  - 印刷せずにオンラインで問題を解ける新モード
  - 印刷モードと入力モードをタブで簡単切り替え
- ⏱ **タイマー機能**
  - スタート・一時停止・リセット機能
  - 10ミリ秒単位で計測（00:00.00形式）
  - 採点時に記録されるタイムで速度向上を実感
- 📱 **デバイス別最適化**
  - **PC**: キーボード入力、Tab/Enter/矢印キーで移動
  - **タブレット/スマホ横**: 画面左右分割（グリッド60% + テンキー40%）
  - **スマホ縦**: 横持ち推奨メッセージ表示
  - テンキーは大きなボタン（70px高さ）でタッチ操作しやすい
- 🔤 **全角→半角自動変換**
  - 日本語入力の全角数字を即座に半角に変換
  - マイナス符号（−）も自動変換
  - 生徒の答えはそのまま（負の数の判定に影響なし）
- 🎯 **移動方向選択機能**
  - Enterキーで「右へ」または「下へ」移動を選択可能
  - テンキーの移動ボタン（→/↓）も連動
  - 設定はlocalStorageに自動保存
- ✅ **採点機能**
  - 「採点する」ボタンで全問自動採点
  - 正解は緑、不正解は赤で色分け表示
  - 正解数・不正解数・正答率・タイムを表示
- 📊 **成績記録機能**
  - 過去10回分の成績を自動保存（localStorage）
  - 日時、正解数、正答率、タイムを記録
  - ベストタイム（最速記録）に金色の「BEST」バッジ表示
  - 学習の振り返りとモチベーション向上に効果的
- 🌐 **16言語すべてに対応**
  - 入力モードの全UI要素を16言語に翻訳

### v2.6.0 (2025-11-13) 🎨 UI改善 + ランダム配置機能
- ✨ **ランダムに配置する機能を追加**
  - 固定数値をFisher-Yatesアルゴリズムでシャッフル
  - 「特定の数値を固定する」チェックON時のみ使用可能
  - 同じ数値セットでも毎回異なる配置で出題
  - 暗記ではなく本当の計算力を鍛える
  - 例：1,2,3,4,5 → 3,1,5,2,4 のようにランダム配置
- 🎨 **UIの大幅改善**
  - チェックボックスの順序を最適化
    1. 筆算形式にする
    2. 負の数を含む（□ ランダムに負の数にする）
    3. 特定の数値を固定する（□ ランダムに配置する）
  - 関連機能を括弧内にインライン表示
  - 条件付き表示でスッキリしたUI
  - より直感的で分かりやすいレイアウト
- 💾 **設定の自動保存**
  - 全チェックボックスの状態をlocalStorageに保存
- 🌐 **16言語すべてに対応**
  - 新機能のラベルを全言語に翻訳

### v2.5.0 (2025-11-13) 🎲 ランダム負の数機能
- ✨ **ランダムに負の数にする機能を追加**
  - 生成された数値を約50%の確率で負の数に自動変換
  - 「負の数を含む」チェックON時のみ使用可能
  - より多様な問題パターンを自動生成
  - 正の数と負の数が混在した実践的な計算練習
  - 例：1～10で生成 → -5, 3, -8, 2, -1, 7... のように変換
- 🎯 **条件付き表示機能**
  - 「負の数を含む」がOFFの時は非表示
  - 関連する機能のみ表示されるスマートUI
- 💾 **設定の自動保存**
  - チェックボックスの状態をlocalStorageに保存
- 🌐 **16言語すべてに対応**
  - 新機能のラベルを全言語に翻訳

### v2.4.0 (2025-11-13) ➖ 負の数対応
- ✨ **負の数を使用可能に**
  - 「負の数を含む」チェックボックスを追加
  - チェックON時は数値範囲で-999～999まで設定可能
  - 固定数値入力でも負の数を使用可能
  - たし算、ひき算、かけ算、わり算すべてで正しく計算
  - より高度な計算練習が可能（例：5 - (-3) = 8、5 × (-3) = -15）
- 💾 **設定の自動保存**
  - チェックボックスの状態をlocalStorageに保存
  - 次回起動時も同じ設定が維持される
- 🌐 **16言語すべてに対応**
  - 新機能のラベルを全言語に翻訳

### v2.3.0 (2025-11-13) 🧮 筆算形式対応
- ✨ **筆算形式への配置変更機能を追加**
  - 数値の配置を入れ替える機能（チェックボックスで切り替え）
  - 筆算形式：上に足される数/引かれる数など、左に足す数/引く数など
  - 標準形式：従来通りの配置
  - 選択した形式をlocalStorageに自動保存
  - 次回起動時も同じ設定が維持される
  - 筆算のイメージで計算しやすくなり学習効果が向上
- 🌐 **16言語すべてに対応**
  - 新機能のラベルを全言語に翻訳

### v2.2.0 (2025-11-13) 🌐 グローバル拡張
- 🌐 **言語対応を16言語に拡大**
  - アラビア語、ロシア語、オランダ語を追加
  - アラビア語はRTL（右から左）レイアウトに完全対応
  - 世界人口の72%（約57億人）をカバー
  - プレミアム市場（中東・ロシア・オランダ）への対応

### v2.1.0 (2025-11-13) 📏 グリッドサイズ最適化
- 📏 **15×15グリッドのサイズを拡大**
  - 11×11～15×15のセルサイズを拡大（15×15: 19px→23px）
  - 学生が書き込みやすく改善
  - 印刷時もA4サイズに最適化

### v2.0.1 (2025-11-10)
- 🔧 **全角入力の自動変換機能を追加**
  - 固定数値入力欄で全角数字を入力しても自動的に半角に変換
  - 全角カンマ（，）、**読点（、）**も半角カンマ（,）に自動変換
  - 全角スペース、全角マイナスも半角に変換
  - リアルタイムで変換されるため入力ミスを防止
  - 日本語入力で自然に出る「、」も正しく処理される

### v2.0.0 (2025-11-10) 🌍 多言語対応版
- 🌐 **10言語に対応**
  - 日本語、英語、簡体字中国語、繁体字中国語、韓国語、タイ語、スペイン語、フランス語、ドイツ語、ポルトガル語
  - 言語切り替え機能を追加（ページ上部のドロップダウンメニュー）
  - ブラウザの言語設定を自動検出
  - 選択した言語を記憶する機能
- 🌟 **グローバル市場での販売が可能に**
  - 世界中の教育者・保護者が利用可能
  - 各言語に最適化されたUI
  - エラーメッセージも多言語対応

### v1.3.0 (2025-11-10)
- 📊 マスサイズの選択肢を大幅拡張
  - 3×3から15×15まで全13種類のサイズに対応
  - 各サイズに最適化されたフォントとマスサイズを自動調整
  - より細かい難易度調整が可能に

### v1.2.1 (2025-11-10)
- 🖨️ 印刷機能の改善
  - 空白ページが出ないように修正
  - 1ページのみ印刷されるように最適化
  - 印刷時のページブレーク設定を調整

### v1.2.0 (2025-11-10)
- 🎨 UIの大幅改善
  - 文字サイズを大きく（ラベル: 17px、入力フィールド: 16px）
  - 入力フィールドとボタンのサイズを拡大
  - チェックボックスのサイズを拡大（20px × 20px）
  - ホバー・フォーカス効果を追加
  - 全体的なパディングとスペーシングを改善

### v1.1.0 (2025-11-10)
- ✅ 数値の重複防止機能を追加（Fisher-Yatesシャッフルアルゴリズム使用）
- ✅ マスの数と数値範囲の整合性チェック機能を追加
- ✅ より詳細なエラーメッセージの表示

### v1.0.0 (2025-11-10)
- 🎉 初回リリース
- 4種類の演算対応（たし算、ひき算、かけ算、わり算）
- 柔軟なマスサイズ設定（3×3～15×15）
- A4印刷最適化
